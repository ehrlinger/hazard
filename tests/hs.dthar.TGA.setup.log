5542   *______________________________________________________________________________;

5543   *                                                                              ;

5544   * !HZEXAMPLES/hs.dthar.TGA.setup                                               ;

5545   *                                                                              ;

5546   * Arterial Switch Repairs                                                      ;

5547   *                                                                              ;

5548   * Multivariable analysis of risk factors for death after operation             ;

5549   * Patient, Procedure, Support, and Experience risk factors                     ;

5550   *                                                                              ;

5551   * Predict survivorship curve for each experience in the data set.              ;

5552   *                                                                              ;

5553   * Create the dataset that will subsequently be used to form subgroups          ;

5554   * from these curves.                                                           ;

5555   *______________________________________________________________________________;

5556   *                                                                              ;

5557     OPTIONS PAGESIZE=100 LINESIZE=132;
5558     TITLE1 "Arterial Switch Operations";
5559     TITLE2 "Death After Operation";
5560     TITLE3 "Multivariable Analysis of Risk Factors";
5561     TITLE4 "Patient, Procedure, Support, and Experience Risk Factors";
5562     TITLE5 "Output Predictions For Each Patient";
5563   *******************************************************************************;

5564   * Bring in data                                                                ;

5565     FILENAME INTGA ('!HZEXAMPLES/data/tga');
5566     DATA ARTSW; INFILE INTGA MISSOVER;
5567     INPUT STUDY $ 1-10 SIMPLE 12 DEXTROIN 14 CA_1RL2C 16 HYAAPROC 18 NO_TCA 20

5568         TCA_TIME 22-31 5 AGE_DAYS 33-42 5 ARCIOPYR 44-51 5 DEAD 53 INT_DEAD
5569         55-64 5 SOURCE $ 66-75 CA1_2_L 77 OPYEAR 79-88 5;
5570     LABEL
5571           SIMPLE   = 'Simple TGA'
5572           DEXTROIN = 'Dextrocardia'
5573           HYAAPROC = 'Procedure for hypoplastic arch'
5574           NO_TCA   = 'No TCA'
5575           TCA_TIME = 'TCA time'
5576           AGE_DAYS = 'Age at operation'
5577           INT_DEAD = 'Followup Interval (months) After Repair'
5578           DEAD     = 'Death'
5579           OPYEAR   = 'Year of Operation'
5580     ;
5581   *______________________________________________________________________________;

5582   *                                                                              ;

5583   * Risk factor model:                                                           ;

5584   *   Early: SIMPLE DEXTROIN CA_1RL2C CA1_2_L HYAAPROC NO_TCA LN_TCAT SIMIAGP1

5585   *          ARCIOPYR
5586   *______________________________________________________________________________;

5587   *                                                                              ;

5588   * Data transformations                                                         ;


NOTE: The infile INTGA is:
      File Name=c:\hazard\examples\data\tga,
      RECFM=V,LRECL=256

NOTE: 470 records were read from the infile INTGA.
      The minimum record length was 88.
      The maximum record length was 88.
NOTE: The data set WORK.ARTSW has 470 observations and 14 variables.
NOTE: DATA statement used:
      real time           0.15 seconds
      cpu time            0.15 seconds


5589     DATA ARTSW; SET ARTSW;
5590     LN_TCAT=.; IF TCA_TIME NE . THEN LN_TCAT=LOG(TCA_TIME+1);
5591     IN_AGEP1=.; IF AGE_DAYS NE . THEN IN_AGEP1=1/((AGE_DAYS + 1)*12/365.2425);

5592   *******************************************************************************;

5593   * Standardize for missing values                                               ;


NOTE: There were 470 observations read from the data set WORK.ARTSW.
NOTE: The data set WORK.ARTSW has 470 observations and 16 variables.
NOTE: DATA statement used:
      real time           0.06 seconds
      cpu time            0.06 seconds


5594     PROC STANDARD DATA=ARTSW OUT=ARTSW REPLACE; VAR TCA_TIME LN_TCAT;
5595   *******************************************************************************;

5596   * Interaction terms                                                            ;


NOTE: There were 470 observations read from the data set WORK.ARTSW.
NOTE: The data set WORK.ARTSW has 470 observations and 16 variables.
NOTE: PROCEDURE STANDARD used:
      real time           0.05 seconds
      cpu time            0.05 seconds


5597     DATA ARTSW; SET ARTSW;
5598     SIMIAGP1=SIMPLE*IN_AGEP1;
5599   *******************************************************************************;

5600   * Generate expected vs observed deaths                                         ;

5601     LIBNAME TGASW v6 ('!HZEXAMPLES/sasest');
NOTE: Libref TGASW was successfully assigned as follows:
      Levels:           1
      Engine(1):        V6
      Physical Name(1): c:\hazard\examples\sasest
5602     %HAZPRED(
5603     PROC HAZPRED DATA=ARTSW INHAZ=TGASW.HMDTHRI1 OUT=DESIGN NOHAZ;
5604          TIME INT_DEAD;
5605     );

NOTE: There were 470 observations read from the data set WORK.ARTSW.
NOTE: The data set WORK.ARTSW has 470 observations and 17 variables.
NOTE: DATA statement used:
      real time           0.07 seconds
      cpu time            0.07 seconds


Running hazpred c:\hazard\bin\hazpred.bat on Windows with data C:\WINNT\TEMP\hzp.J1660.X468
ERROR: File TGASW.HMDTHRI1.DATA does not exist.
WARNING: The data set HZRCALL.HZRCALL may be incomplete.  When this step was stopped there were 0 observations and 0 variables.
ERROR: File TGASW.HMDTHRI1.DATA does not exist.

Note: Procedure HAZPRED (C-Version 4.1.0)
      DEBUGGING VERSION
      The Cleveland Clinic Foundation
      9500 Euclid Avenue
      Cleveland, Ohio 44195
      Phone: (216) 444-6712
      Email: hazard@bio.ri.ccf.org
Note: EXITING DUE TO infile ERROR
ERROR: Unrecognized line from print file.
RULE:     ----+----1----+----2----+----3----+----4----+----5----+----6----+----7----+----8----+----9----+----0
10        !16 3
ll=3 bfr=16 code=! lleft=95 bfrlen=2 count=. i=. _ERROR_=1 _N_=10
5606     DATA DESIGN; SET DESIGN;
5607     CUM_HAZ=-LOG(_SURVIV);
5608     PROB=1-_SURVIV;
5609     KEEP STUDY SIMPLE DEXTROIN CA_1RL2C HYAAPROC NO_TCA TCA_TIME AGE_DAYS ARCIOPYR

5610          DEAD INT_DEAD SOURCE CA1_2_L LN_TCAT IN_AGEP1 SIMIAGP1 CUM_HAZ PROB

5611     ;
5612     LIBNAME ARTSWT ('!HZEXAMPLES/data');
NOTE: Libref ARTSWT was successfully assigned as follows:
      Levels:           1
      Engine(1):        V8
      Physical Name(1): c:\hazard\examples\data

NOTE: Variable _SURVIV is uninitialized.
WARNING: The variable STUDY in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable SIMPLE in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable DEXTROIN in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable CA_1RL2C in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable HYAAPROC in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable NO_TCA in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable TCA_TIME in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable AGE_DAYS in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable ARCIOPYR in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable DEAD in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable INT_DEAD in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable SOURCE in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable CA1_2_L in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable LN_TCAT in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable IN_AGEP1 in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable SIMIAGP1 in the DROP, KEEP, or RENAME list has never been referenced.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      48 at 5607:12   24 at 5608:9
NOTE: There were 24 observations read from the data set WORK.DESIGN.
NOTE: The data set WORK.DESIGN has 24 observations and 2 variables.
NOTE: DATA statement used:
      real time           0.14 seconds
      cpu time            0.14 seconds


5613     DATA ARTSWT.HSDTARXC; SET DESIGN;

NOTE: There were 24 observations read from the data set WORK.DESIGN.
NOTE: The data set ARTSWT.HSDTARXC has 24 observations and 2 variables.
NOTE: DATA statement used:
      real time           0.03 seconds
      cpu time            0.03 seconds


5614     PROC CONTENTS DATA=ARTSWT.HSDTARXC;
5615   *******************************************************************************;

5616   * Calculate parametric estimates of survivorship for each experience              ;


NOTE: PROCEDURE CONTENTS used:
      real time           0.05 seconds
      cpu time            0.05 seconds


5617     DATA DESIGN; SET DESIGN;
5618     KEEP STUDY SOURCE SIMPLE DEXTROIN CA_1RL2C CA1_2_L HYAAPROC NO_TCA LN_TCAT

5619          SIMIAGP1 ARCIOPYR;

WARNING: The variable STUDY in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable SOURCE in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable SIMPLE in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable DEXTROIN in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable CA_1RL2C in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable CA1_2_L in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable HYAAPROC in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable NO_TCA in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable LN_TCAT in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable SIMIAGP1 in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable ARCIOPYR in the DROP, KEEP, or RENAME list has never been referenced.
NOTE: There were 24 observations read from the data set WORK.DESIGN.
NOTE: The data set WORK.DESIGN has 24 observations and 0 variables.
NOTE: DATA statement used:
      real time           0.03 seconds
      cpu time            0.03 seconds


5620     DATA PREDICT; SET DESIGN; DIGITAL=0;
5621     MAX0=96; LN_MAX0=LOG(MAX0); INC0=(5+LN_MAX0)/49.9; /* However many points */

5622     DO LN_TIME=-5 TO LN_MAX0 BY INC0, LN_MAX0;
5623       MONTHS=EXP(LN_TIME);
5624       OUTPUT;
5625     END;
5626     DROP LN_TIME LN_MAX0 INC0 MAX0;

NOTE: There were 24 observations read from the data set WORK.DESIGN.
NOTE: The data set WORK.PREDICT has 1224 observations and 2 variables.
NOTE: DATA statement used:
      real time           0.03 seconds
      cpu time            0.03 seconds


5627     DATA DIGITAL; SET DESIGN; DIGITAL=1;
5628     DO MONTHS=(12*30/365.2425), 3, 6, 12 TO 96 BY 12;
5629       OUTPUT;
5630     END;

NOTE: There were 24 observations read from the data set WORK.DESIGN.
NOTE: The data set WORK.DIGITAL has 264 observations and 2 variables.
NOTE: DATA statement used:
      real time           0.03 seconds
      cpu time            0.03 seconds


5631     DATA PREDICT; SET PREDICT DIGITAL;
5632     %HAZPRED(
5633     PROC HAZPRED DATA=PREDICT INHAZ=TGASW.HMDTHRI1 OUT=PREDICT; TIME MONTHS;

5634     );

NOTE: There were 1224 observations read from the data set WORK.PREDICT.
NOTE: There were 264 observations read from the data set WORK.DIGITAL.
NOTE: The data set WORK.PREDICT has 1488 observations and 2 variables.
NOTE: DATA statement used:
      real time           0.03 seconds
      cpu time            0.03 seconds


Running hazpred c:\hazard\bin\hazpred.bat on Windows with data C:\WINNT\TEMP\hzp.J1660.X476
ERROR: File TGASW.HMDTHRI1.DATA does not exist.
WARNING: The data set HZRCALL.HZRCALL may be incomplete.  When this step was stopped there were 0 observations and 0 variables.
ERROR: File TGASW.HMDTHRI1.DATA does not exist.

Note: Procedure HAZPRED (C-Version 4.1.0)
      DEBUGGING VERSION
      The Cleveland Clinic Foundation
      9500 Euclid Avenue
      Cleveland, Ohio 44195
      Phone: (216) 444-6712
      Email: hazard@bio.ri.ccf.org
Note: EXITING DUE TO infile ERROR
ERROR: Unrecognized line from print file.
RULE:     ----+----1----+----2----+----3----+----4----+----5----+----6----+----7----+----8----+----9----+----0
10        !16 3
ll=3 bfr=16 code=! lleft=95 bfrlen=2 count=. i=. _ERROR_=1 _N_=10
5635     DATA ARTSWT.HSDTARXP; SET PREDICT;
5636     KEEP STUDY SOURCE MONTHS _SURVIV _CLLSURV _CLUSURV DIGITAL;

WARNING: The variable STUDY in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable SOURCE in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable _SURVIV in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable _CLLSURV in the DROP, KEEP, or RENAME list has never been referenced.
WARNING: The variable _CLUSURV in the DROP, KEEP, or RENAME list has never been referenced.
NOTE: There were 1488 observations read from the data set WORK.PREDICT.
NOTE: The data set ARTSWT.HSDTARXP has 1488 observations and 2 variables.
NOTE: DATA statement used:
      real time           0.03 seconds
      cpu time            0.03 seconds


5637     PROC CONTENTS DATA=ARTSWT.HSDTARXP;
5638   *******************************************************************************;

5639   RUN;

NOTE: PROCEDURE CONTENTS used:
      real time           0.03 seconds
      cpu time            0.03 seconds


